<!doctype html><html lang=en><head><meta charset=utf-8><meta content="metio.wtf" name=author><meta content="krei" name=subject><meta content="write code that generates code, so that you can write more code" name=description><meta name=viewport content="width=device-width,initial-scale=1"><meta content="krei" property="og:title"><meta content="website" property="og:type"><meta content="https://krei.projects.metio.wtf/" property="og:url"><meta content="write code that generates code, so that you can write more code" property="og:description"><link href=https://krei.projects.metio.wtf/ rel=canonical><link href=https://krei.projects.metio.wtf/atom.xml rel=alternate title="krei Atom" type=application/atom+xml><link href=https://krei.projects.metio.wtf/index.xml rel=alternate title="krei RSS" type=application/rss+xml><link href=https://krei.projects.metio.wtf/sitemap.xml rel=sitemap title="krei Sitemap" type=application/xml><link rel=author href=https://krei.projects.metio.wtf/humans.txt><link rel=license href=https://creativecommons.org/publicdomain/zero/1.0/><link rel=alternate type=application/rdf+xml title=FOAF href=https://krei.projects.metio.wtf/foaf.rdf><link href=https://krei.projects.metio.wtf/css/normalize.css media=screen rel=stylesheet><link href=https://krei.projects.metio.wtf/css/font.css media=screen rel=stylesheet><link href=https://krei.projects.metio.wtf/css/header.css media=screen rel=stylesheet><link href=https://krei.projects.metio.wtf/css/footer.css media=screen rel=stylesheet><link href=https://krei.projects.metio.wtf/css/navigation.css media=screen rel=stylesheet><link href=https://krei.projects.metio.wtf/css/navigation-mobile.css media="screen and (max-width: 1199px)" rel=stylesheet><link href=https://krei.projects.metio.wtf/css/navigation-tablet.css media="screen and (min-width: 801px)" rel=stylesheet><link href=https://krei.projects.metio.wtf/css/navigation-desktop.css media="screen and (min-width: 1200px)" rel=stylesheet><link href=https://krei.projects.metio.wtf/css/layout.css rel=stylesheet><link href=https://krei.projects.metio.wtf/css/layout-mobile.css media="screen and (max-width: 800px)" rel=stylesheet><link href=https://krei.projects.metio.wtf/css/layout-tablet.css media="screen and (min-width: 801px) and (max-width: 1199px)" rel=stylesheet><link href=https://krei.projects.metio.wtf/css/layout-desktop.css media="screen and (min-width: 1200px)" rel=stylesheet><link href=https://krei.projects.metio.wtf/css/syntax.css media=screen rel=stylesheet><link href=https://krei.projects.metio.wtf/css/darkmode.css media="screen and (prefers-color-scheme: dark)" rel=stylesheet><title>krei &ndash; Git Mirrors</title></head><body id=site><header id=header><h1 id=projectname><a id=rootlink href=https://krei.projects.metio.wtf/>krei</a>
<a href=https://krei.projects.metio.wtf/sitemap/ title="show me all pages" id=sitemaplink><img class=svgimg src=https://krei.projects.metio.wtf/images/sitemap.svg alt=sitemap width=30 height=30></a></h1><span id=actions><a href=https://github.com/metio/krei id=github title="want some code?"><img class=svgimg src=https://krei.projects.metio.wtf/images/github.svg alt=github width=32 height=32></a>
<a href=https://krei.projects.metio.wtf/atom.xml id=newsfeed title="get notified about updates"><img class=svgimg src=https://krei.projects.metio.wtf/images/rss.svg alt=newsfeed width=32 height=32></a></span></header><nav id=navigation><ul><li id=homelink><a href=https://krei.projects.metio.wtf/>Home</a></li><li><a href=/community/>Community</a><ul><li><a href=/community/alternatives/>Alternatives</a></li><li><a href=/community/help/>Help</a></li><li><a href=/community/news/>News</a></li><li><a href=/community/security/>Security</a></li></ul></li><li><a href=/contributors/ class=active>Contributors</a><ul><li><a href=/contributors/build/>Build</a></li><li><a href=/contributors/dev-env/>Dev Env</a></li><li><a href=/contributors/eclipse/>Eclipse</a></li><li><a href=/contributors/first-timer/>First Timer</a></li><li class=active><a href=/contributors/git-mirrors/>Git Mirrors</a></li><li><a href=/contributors/idea/>IntelliJ Idea</a></li><li><a href=/contributors/makefile/>Makefile</a></li><li><a href=/contributors/metadata/>Metadata</a></li><li><a href=/contributors/release/>Release</a></li></ul></li><li><a href=/krei-core/>krei-core</a><ul><li><a href=/krei-core/install/>Install</a></li><li><a href=/krei-core/jshell/>JShell</a></li><li><a href=/krei-core/license/>License</a></li><li><a href=/krei-core/main/>static-void-main</a></li><li><a href=/krei-core/usage/>Usage</a></li></ul></li><li><a href=/krei-metio/>krei-metio</a><ul><li><a href=/krei-metio/maven/>Maven</a></li></ul></li><li><a href=/metrics/>Metrics</a><ul><li><a href=/metrics/badges/>Badges</a></li></ul></li></ul></nav><main id=content><h1>Git Mirrors</h1><p><code>krei</code> is using <a href=https://github.com/metio/krei>GitHub</a> as its primary source/issue/build environment, however its code is available in other git repositories as well in order to deal with <a href=https://www.githubstatus.com/>GitHub outages</a>.</p><h2 id=available-mirrors>Available Mirrors</h2><ul><li><a href=https://github.com/metio/krei>https://github.com/metio/krei</a></li><li><a href=https://repo.or.cz/krei.git>https://repo.or.cz/krei.git</a></li><li><a href=https://codeberg.org/metio.wtf/krei>https://codeberg.org/metio.wtf/krei</a></li><li><a href=https://gitlab.com/metio.wtf/krei>https://gitlab.com/metio.wtf/krei</a></li><li><a href=https://bitbucket.org/metio-wtf/krei>https://bitbucket.org/metio-wtf/krei</a></li></ul><h2 id=automatic-mirroring>Automatic Mirroring</h2><p>The Gitlab repository pulls changes from GitHub and pushes changes into Codeberg and Bitbucket. The repo.or.cz mirror pulls from GitHub as well, therefore all you have to do is, push your changes into GitHub and a few minutes later, all other repositories will get the latest code automatically - including all branches.</p><h2 id=manual-mirroring>Manual Mirroring</h2><p>In case Gitlab is down or removes the mirroring feature, an update can be performed manually.</p><h3 id=ssh-setup-optional>SSH Setup (<strong>Optional</strong>)</h3><p>Use the following example config as reference and adapt according to your needs. In case you are using the same SSH key for every remote, adapt the <code>IdentityFile</code> part in the example. In case you only want to mirror to a subset of all mirrors, remove all those that you do not want to support.</p><pre><code>Host github
    HostName github.com
    User git
    IdentityFile ~/.ssh/github

Host gitlab
    HostName gitlab.com
    User git
    IdentityFile ~/.ssh/gitlab

Host bitbucket
    HostName bitbucket.org
    User git
    IdentityFile ~/.ssh/bitbucket

Host codeberg
    HostName codeberg.org
    User git
    IdentityFile ~/.ssh/codeberg
</code></pre><h3 id=git-remote-mirrors>Git Remote Mirrors</h3><p>Use the following commands to create a new git remote which only allows pushing code. Only specify those mirrors that you want to support.</p><div class=highlight><pre class=chroma><code class=language-shell data-lang=shell>$ git remote add mirrors DISABLED
$ git remote set-url --add --push mirrors codeberg:metio.wtf/krei.git
$ git remote set-url --add --push mirrors gitlab:metio.wtf/krei.git
$ git remote set-url --add --push mirrors bitbucket:metio-wtf/krei.git
</code></pre></div><p>In case you have not done the SSH setup above, use this:</p><div class=highlight><pre class=chroma><code class=language-shell data-lang=shell>$ git remote add mirrors DISABLED
$ git remote set-url --add --push mirrors git@codeberg.org:metio.wtf/krei.git
$ git remote set-url --add --push mirrors git@gitlab.com:metio.wtf/krei.git
$ git remote set-url --add --push mirrors git@bitbucket.org:metio-wtf/krei.git
</code></pre></div><p>The final configuration should look like this:</p><div class=highlight><pre class=chroma><code class=language-shell data-lang=shell>$ git remote -v
mirrors DISABLED <span class=o>(</span>fetch<span class=o>)</span>
mirrors codeberg:metio.wtf/krei.git <span class=o>(</span>push<span class=o>)</span>
mirrors gitlab:metio.wtf/krei.git <span class=o>(</span>push<span class=o>)</span>
mirrors bitbucket:metio-wtf/krei.git <span class=o>(</span>push<span class=o>)</span>
</code></pre></div><p>Finally, push the current branch to all mirrors, e.g. <code>master</code>:</p><div class=highlight><pre class=chroma><code class=language-shell data-lang=shell>$ git push mirrors master:master
</code></pre></div></main><footer id=footer><p xmlns:dct=http://purl.org/dc/terms/ xmlns:vcard=http://www.w3.org/2001/vcard-rdf/3.0#><a rel=license href=https://creativecommons.org/publicdomain/zero/1.0/><img src=https://krei.projects.metio.wtf/images/cc0.png style=border-style:none alt=CC0 width=88px height=31px></a><br>To the extent possible under law,
<a rel=dct:publisher href=https://krei.projects.metio.wtf/><span property="dct:title">metio.wtf</span></a>
has waived all copyright and related or neighboring rights to
<span property="dct:title">krei</span>.
This work is published from:
<span property="vcard:Country" datatype="dct:ISO3166" content="EN" about="https://krei.projects.metio.wtf/">Germany</span></p></footer></body></html>