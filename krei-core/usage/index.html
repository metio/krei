<!doctype html><html lang=en><head><meta charset=utf-8><meta content="metio.wtf" name=author><meta content="krei" name=subject><meta content="write code that generates code, so that you can write more code" name=description><meta name=viewport content="width=device-width,initial-scale=1"><meta content="krei" property="og:title"><meta content="website" property="og:type"><meta content="https://krei.projects.metio.wtf/" property="og:url"><meta content="write code that generates code, so that you can write more code" property="og:description"><link href=https://krei.projects.metio.wtf/ rel=canonical><link href=https://krei.projects.metio.wtf/atom.xml rel=alternate title="krei Atom" type=application/atom+xml><link href=https://krei.projects.metio.wtf/index.xml rel=alternate title="krei RSS" type=application/rss+xml><link href=https://krei.projects.metio.wtf/sitemap.xml rel=sitemap title="krei Sitemap" type=application/xml><link rel=author href=https://krei.projects.metio.wtf/humans.txt><link rel=license href=https://creativecommons.org/publicdomain/zero/1.0/><link rel=alternate type=application/rdf+xml title=FOAF href=https://krei.projects.metio.wtf/foaf.rdf><link href=https://krei.projects.metio.wtf/css/normalize.css media=screen rel=stylesheet><link href=https://krei.projects.metio.wtf/css/font.css media=screen rel=stylesheet><link href=https://krei.projects.metio.wtf/css/header.css media=screen rel=stylesheet><link href=https://krei.projects.metio.wtf/css/footer.css media=screen rel=stylesheet><link href=https://krei.projects.metio.wtf/css/navigation.css media=screen rel=stylesheet><link href=https://krei.projects.metio.wtf/css/navigation-mobile.css media="screen and (max-width: 1199px)" rel=stylesheet><link href=https://krei.projects.metio.wtf/css/navigation-tablet.css media="screen and (min-width: 801px)" rel=stylesheet><link href=https://krei.projects.metio.wtf/css/navigation-desktop.css media="screen and (min-width: 1200px)" rel=stylesheet><link href=https://krei.projects.metio.wtf/css/layout.css rel=stylesheet><link href=https://krei.projects.metio.wtf/css/layout-mobile.css media="screen and (max-width: 800px)" rel=stylesheet><link href=https://krei.projects.metio.wtf/css/layout-tablet.css media="screen and (min-width: 801px) and (max-width: 1199px)" rel=stylesheet><link href=https://krei.projects.metio.wtf/css/layout-desktop.css media="screen and (min-width: 1200px)" rel=stylesheet><link href=https://krei.projects.metio.wtf/css/syntax.css media=screen rel=stylesheet><link href=https://krei.projects.metio.wtf/css/darkmode.css media="screen and (prefers-color-scheme: dark)" rel=stylesheet><title>krei &ndash; Usage</title></head><body id=site><header id=header><h1 id=projectname><a id=rootlink href=https://krei.projects.metio.wtf/>krei</a>
<a href=https://krei.projects.metio.wtf/sitemap/ title="show me all pages" id=sitemaplink><img class=svgimg src=https://krei.projects.metio.wtf/images/sitemap.svg alt=sitemap width=30 height=30></a></h1><span id=actions><a href=https://github.com/metio/krei id=github title="want some code?"><img class=svgimg src=https://krei.projects.metio.wtf/images/github.svg alt=github width=32 height=32></a>
<a href=https://krei.projects.metio.wtf/atom.xml id=newsfeed title="get notified about updates"><img class=svgimg src=https://krei.projects.metio.wtf/images/rss.svg alt=newsfeed width=32 height=32></a></span></header><nav id=navigation><ul><li id=homelink><a href=https://krei.projects.metio.wtf/>Home</a></li><li><a href=/community/>Community</a><ul><li><a href=/community/alternatives/>Alternatives</a></li><li><a href=/community/help/>Help</a></li><li><a href=/community/news/>News</a></li><li><a href=/community/security/>Security</a></li></ul></li><li><a href=/contributors/>Contributors</a><ul><li><a href=/contributors/build/>Build</a></li><li><a href=/contributors/dev-env/>Dev Env</a></li><li><a href=/contributors/eclipse/>Eclipse</a></li><li><a href=/contributors/first-timer/>First Timer</a></li><li><a href=/contributors/git-mirrors/>Git Mirrors</a></li><li><a href=/contributors/idea/>IntelliJ Idea</a></li><li><a href=/contributors/makefile/>Makefile</a></li><li><a href=/contributors/metadata/>Metadata</a></li><li><a href=/contributors/release/>Release</a></li></ul></li><li><a href=/krei-core/ class=active>krei-core</a><ul><li><a href=/krei-core/install/>Install</a></li><li><a href=/krei-core/jshell/>JShell</a></li><li><a href=/krei-core/license/>License</a></li><li><a href=/krei-core/main/>static-void-main</a></li><li class=active><a href=/krei-core/usage/>Usage</a></li></ul></li><li><a href=/krei-metio/>krei-metio</a><ul><li><a href=/krei-metio/maven/>Maven</a></li></ul></li><li><a href=/metrics/>Metrics</a><ul><li><a href=/metrics/badges/>Badges</a></li></ul></li></ul></nav><main id=content><h1>Usage</h1><p>In order to create a new project with <code>krei</code> you will have to follow these steps:</p><ol><li>Define a project: Create a <code>Project</code> or <code>ProjectConfiguration</code></li><li>Generate a project: Materialize the above definition to the file system</li><li>Validate a project: (Optional) validate definition against best-practices and check generated project against definition.</li><li><strong>Celebrate \o/</strong></li></ol><h2 id=define-projects>Define Projects</h2><p><code>krei-core</code> offers a high-level declarative API and a low-level imperative API.</p><h3 id=declarative-api>Declarative API</h3><p>The main interface of the declarative API is <code>ProjectConfiguration</code>. Create a new instance like this:</p><div class=highlight><pre class=chroma><code class=language-java data-lang=java><span class=kn>import</span> <span class=nn>wtf.metio.krei.model.*</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>wtf.metio.krei.model.build.maven.*</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>wtf.metio.krei.model.ide.idea.*</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>wtf.metio.krei.model.license.*</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>wtf.metio.krei.model.vcs.git.*</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>wtf.metio.krei.template.*</span><span class=o>;</span>

<span class=n>var</span> <span class=n>projectName</span> <span class=o>=</span> <span class=s>&#34;your-new-project&#34;</span><span class=o>;</span>

<span class=n>var</span> <span class=n>license</span> <span class=o>=</span> <span class=n>License</span><span class=o>.</span><span class=na>of</span><span class=o>(</span><span class=n>LicenseTemplates</span><span class=o>.</span><span class=na>CC0</span><span class=o>,</span> <span class=n>projectName</span><span class=o>);</span>
<span class=n>var</span> <span class=n>git</span> <span class=o>=</span> <span class=n>Git</span><span class=o>.</span><span class=na>builder</span><span class=o>()</span>
        <span class=o>.</span><span class=na>ignore</span><span class=o>(</span><span class=n>GitIgnore</span><span class=o>.</span><span class=na>of</span><span class=o>(</span><span class=n>GitIgnoreTemplates</span><span class=o>.</span><span class=na>MAVEN</span><span class=o>).</span><span class=na>and</span><span class=o>(</span><span class=n>GitIgnoreTemplates</span><span class=o>.</span><span class=na>BAZEL</span><span class=o>))</span>
        <span class=o>.</span><span class=na>config</span><span class=o>(</span><span class=n>GitConfig</span><span class=o>.</span><span class=na>of</span><span class=o>(</span><span class=s>&#34;user.email&#34;</span><span class=o>,</span> <span class=s>&#34;someone@example.com&#34;</span><span class=o>))</span>
        <span class=o>.</span><span class=na>addRemotes</span><span class=o>(</span><span class=n>GitRemote</span><span class=o>.</span><span class=na>github</span><span class=o>(</span><span class=s>&#34;org/repo&#34;</span><span class=o>))</span>
        <span class=o>.</span><span class=na>build</span><span class=o>();</span>
<span class=n>var</span> <span class=n>idea</span> <span class=o>=</span> <span class=n>Idea</span><span class=o>.</span><span class=na>builder</span><span class=o>()</span>
        <span class=o>.</span><span class=na>copyright</span><span class=o>(</span><span class=n>IdeaCopyright</span><span class=o>.</span><span class=na>of</span><span class=o>())</span>
        <span class=o>.</span><span class=na>codeStyle</span><span class=o>(</span><span class=n>IdeaCodeStyle</span><span class=o>.</span><span class=na>of</span><span class=o>())</span>
        <span class=o>.</span><span class=na>build</span><span class=o>();</span>
<span class=n>var</span> <span class=n>maven</span> <span class=o>=</span> <span class=n>Maven</span><span class=o>.</span><span class=na>builder</span><span class=o>()</span>
        <span class=o>.</span><span class=na>build</span><span class=o>();</span>

<span class=n>var</span> <span class=n>project</span> <span class=o>=</span> <span class=n>ProjectConfig</span><span class=o>.</span><span class=na>builder</span><span class=o>(</span><span class=n>projectName</span><span class=o>)</span>
        <span class=o>.</span><span class=na>addLicense</span><span class=o>(</span><span class=n>license</span><span class=o>)</span>
        <span class=o>.</span><span class=na>addVcs</span><span class=o>(</span><span class=n>git</span><span class=o>)</span>
        <span class=o>.</span><span class=na>addIde</span><span class=o>(</span><span class=n>idea</span><span class=o>)</span>
        <span class=o>.</span><span class=na>addBuildSystem</span><span class=o>(</span><span class=n>maven</span><span class=o>)</span>
        <span class=o>.</span><span class=na>build</span><span class=o>();</span>
</code></pre></div><h3 id=imperative-api>Imperative API</h3><p>The main interface of the imperative API is <code>Project</code>. It wraps multiple <code>Unit</code>s together.</p><div class=highlight><pre class=chroma><code class=language-java data-lang=java><span class=kn>import</span> <span class=nn>wtf.metio.krei.model.*</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>wtf.metio.krei.unit.file.*</span><span class=o>;</span>

<span class=n>var</span> <span class=n>project</span> <span class=o>=</span> <span class=n>Project</span><span class=o>.</span><span class=na>builder</span><span class=o>()</span>
    <span class=o>.</span><span class=na>addUnits</span><span class=o>(</span><span class=n>FileUnits</span><span class=o>.</span><span class=na>createDirectory</span><span class=o>(</span><span class=n>someDirectory</span><span class=o>))</span>
    <span class=o>.</span><span class=na>build</span><span class=o>();</span>
</code></pre></div><h2 id=materialize-projects>Materialize Projects</h2><p>In order to materialize a project to your local file system, use the <code>Materialize</code> class like this:</p><div class=highlight><pre class=chroma><code class=language-java data-lang=java><span class=kn>import</span> <span class=nn>wtf.metio.krei.materialize.*</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>java.nio.file.Paths</span><span class=o>;</span>

<span class=n>var</span> <span class=n>projectDirectory</span> <span class=o>=</span> <span class=n>Paths</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=s>&#34;/path/to/the/project&#34;</span><span class=o>);</span>
<span class=n>Materialize</span><span class=o>.</span><span class=na>intoFilesystem</span><span class=o>(</span><span class=n>project</span><span class=o>,</span> <span class=n>projectDirectory</span><span class=o>);</span>
</code></pre></div><h2 id=validate-project>Validate Project</h2><p>In order to validate a project, use the <code>Validate</code> class like this:</p><div class=highlight><pre class=chroma><code class=language-java data-lang=java><span class=kn>import</span> <span class=nn>wtf.metio.krei.validate.*</span><span class=o>;</span>

<span class=n>var</span> <span class=n>problems</span> <span class=o>=</span> <span class=n>Validate</span><span class=o>.</span><span class=na>validate</span><span class=o>(</span><span class=n>project</span><span class=o>);</span>
</code></pre></div><p>The list of problems will be empty in case no validator found any problem. Otherwise check the entries in the list for problem descriptions and <a href=tbd>online explanations</a>.</p><h2 id=celebrate>Celebrate</h2><p>Thanks for trying out <code>krei</code>! In case you are missing something, please <a href=../../community/help>let us know</a>. In case you want to show that you used <code>krei</code> for one of your projects, consider using these badges:</p><p><img src=https://img.shields.io/badge/krei-created-success alt="krei generated this project"> for projects that were once created with <code>krei</code> use <code>https://img.shields.io/badge/krei-created-success</code>.</p><p><img src=https://img.shields.io/badge/krei-managed-success alt="krei manages this project"> for projects that are continuously monitored by <code>krei</code> use <code>https://img.shields.io/badge/krei-managed-success</code>.</p></main><footer id=footer><p xmlns:dct=http://purl.org/dc/terms/ xmlns:vcard=http://www.w3.org/2001/vcard-rdf/3.0#><a rel=license href=https://creativecommons.org/publicdomain/zero/1.0/><img src=https://krei.projects.metio.wtf/images/cc0.png style=border-style:none alt=CC0 width=88px height=31px></a><br>To the extent possible under law,
<a rel=dct:publisher href=https://krei.projects.metio.wtf/><span property="dct:title">metio.wtf</span></a>
has waived all copyright and related or neighboring rights to
<span property="dct:title">krei</span>.
This work is published from:
<span property="vcard:Country" datatype="dct:ISO3166" content="EN" about="https://krei.projects.metio.wtf/">Germany</span></p></footer></body></html>